# Local Development Environment Configuration
# Copy this file to .env.local and update with your values
# This configuration is specifically for the hybrid Docker development setup

# =============================================================================
# DOCKER COMPOSE CONFIGURATION
# =============================================================================

# Device Agent Configuration (for Docker container)
DEVICE_ID=dev-device-001
DEVICE_SECRET=dev-secret-key
CUSTOMER_ID=dev-customer-123
DEVICE_AGENT_HEALTH_PORT=3100

# Device Agent Settings
HEARTBEAT_INTERVAL=30000  # 30 seconds
LOG_LEVEL=info
MOCK_MODE=false  # Set to true for simulated device behavior

# WebSocket Configuration
WEBSOCKET_RECONNECT_INTERVAL=5000
WEBSOCKET_MAX_RETRIES=10

# Retry and Backoff Configuration
MAX_RETRIES=3
RETRY_DELAY=1000
MAX_RECONNECT_ATTEMPTS=10
MAX_RECONNECT_INTERVAL=30000

# =============================================================================
# LOCAL SUPABASE CONFIGURATION (for testing)
# =============================================================================

# Local Supabase URLs (when running npm run test:supabase:start)
SUPABASE_URL=http://localhost:54321
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfa2V5IiwiZXhwIjoxOTgzODEyOTk2fQ.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379

# =============================================================================
# API SERVICE CONFIGURATION (runs on host)
# =============================================================================

API_PORT=3001
API_HOST=127.0.0.1
API_URL=http://localhost:3001

# Session Configuration
SESSION_SECRET=local-dev-session-secret-minimum-32-characters-long
JWT_SECRET=local-dev-jwt-secret-minimum-32-characters-long

# =============================================================================
# WEB SERVICE CONFIGURATION (runs on host)
# =============================================================================

WEB_PORT=3000
WEB_HOST=127.0.0.1
WEB_URL=http://localhost:3000

# Next.js Public Environment Variables
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

NODE_ENV=development

# Feature Flags
ENABLE_DEVICE_SIMULATOR=true
ENABLE_AI_MOCK_MODE=false
ENABLE_VOICE_SERVICE=false

# Logging
LOG_LEVEL=debug
PRETTY_LOGS=true

# =============================================================================
# SEEDED TEST DEVICE CREDENTIALS
# =============================================================================
# These credentials are pre-seeded in the database for testing
# You can use these or create your own devices

TEST_DEVICE_1_ID=test-device-001
TEST_DEVICE_1_SECRET=test-secret-001
TEST_DEVICE_1_CUSTOMER=test-customer-001

TEST_DEVICE_2_ID=test-device-002
TEST_DEVICE_2_SECRET=test-secret-002
TEST_DEVICE_2_CUSTOMER=test-customer-001

# =============================================================================
# OPTIONAL: CLOUD SERVICES (for advanced testing)
# =============================================================================

# Claude AI Configuration (optional for local dev)
# CLAUDE_API_KEY=your-claude-api-key-here

# EXA AI Configuration (optional for local dev)
# EXA_API_KEY=your-exa-api-key-here

# =============================================================================
# NOTES
# =============================================================================
# 
# 1. This file is for local development only
# 2. Never commit actual secrets to version control
# 3. The local Supabase keys above are default development keys (safe to commit)
# 4. For production, use proper environment-specific configuration
# 5. Device credentials must match what's seeded in the database
#
# Quick Start:
# 1. Copy this file: cp .env.local.example .env.local
# 2. Update any values as needed
# 3. Start local Supabase: npm run test:supabase:start
# 4. Start Docker services: docker-compose up -d
# 5. Start API: npm run dev:api
# 6. Start Web: npm run dev:web
